

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ga4gh.refget.serverless.middleware.media_type &mdash; Refget Serverless  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../../index.html" class="icon icon-home"> Refget Serverless
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">Refget Serverless</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../index.html">Docs</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">ga4gh.refget.serverless.middleware.media_type</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../../_sources/autoapi/ga4gh/refget/serverless/middleware/media_type/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ga4gh.refget.serverless.middleware.media_type">
<span id="ga4gh-refget-serverless-middleware-media-type"></span><h1><a class="reference internal" href="#module-ga4gh.refget.serverless.middleware.media_type" title="ga4gh.refget.serverless.middleware.media_type"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ga4gh.refget.serverless.middleware.media_type</span></code></a><a class="headerlink" href="#module-ga4gh.refget.serverless.middleware.media_type" title="Permalink to this headline">¶</a></h1>
<p><p>Checks request headers for correct/appropriate media types</p>
</p>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ga4gh.refget.serverless.middleware.media_type.MediaTypeMW">
<em class="property">class </em><code class="sig-prename descclassname">ga4gh.refget.serverless.middleware.media_type.</code><code class="sig-name descname">MediaTypeMW</code><a class="headerlink" href="#ga4gh.refget.serverless.middleware.media_type.MediaTypeMW" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Middleware, checks request for appropriate media types</p>
<p>MediaTypeMW middleware checks the “Accept” header of the request. If the
request only accepts MIME types that the refget app cannot satisfy, it sets
the response status code to NOT ACCEPTABLE</p>
<dl class="method">
<dt id="ga4gh.refget.serverless.middleware.media_type.MediaTypeMW.middleware_func">
<em class="property">static </em><code class="sig-name descname">middleware_func</code><span class="sig-paren">(</span><em class="sig-param">event</em>, <em class="sig-param">resp</em>, <em class="sig-param">supported_media_types</em><span class="sig-paren">)</span><a class="headerlink" href="#ga4gh.refget.serverless.middleware.media_type.MediaTypeMW.middleware_func" title="Permalink to this definition">¶</a></dt>
<dd><p>performs all media type validation submethods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – AWS SAM event (incl. headers, path params, query params)</p></li>
<li><p><strong>resp</strong> (class:<cite>ga4gh.refget.serverless.cls.http.response.Response</cite>) – response object to modify</p></li>
<li><p><strong>supported_media_types</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – MIME types supported by server route</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ga4gh.refget.serverless.middleware.media_type.MediaTypeMW.__assign_default_media_type">
<em class="property">static </em><code class="sig-name descname">__assign_default_media_type</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#ga4gh.refget.serverless.middleware.media_type.MediaTypeMW.__assign_default_media_type" title="Permalink to this definition">¶</a></dt>
<dd><p>set default media types if no request “Accept” header</p>
<p>If the request doesn’t contain an “Accept” header, then assume the
client will accept refget’s MIME types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – AWS SAM event (incl. headers, path params, query params)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ga4gh.refget.serverless.middleware.media_type.MediaTypeMW.__check_unsupported_media_type">
<em class="property">static </em><code class="sig-name descname">__check_unsupported_media_type</code><span class="sig-paren">(</span><em class="sig-param">resp</em>, <em class="sig-param">client_types</em>, <em class="sig-param">supported_types</em><span class="sig-paren">)</span><a class="headerlink" href="#ga4gh.refget.serverless.middleware.media_type.MediaTypeMW.__check_unsupported_media_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if server can fulfill request accepted media types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resp</strong> (class:<cite>ga4gh.refget.serverless.cls.http.response.Response</cite>) – response object to modify</p></li>
<li><p><strong>client_types</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – accepted MIME types from client ‘Accept’ header</p></li>
<li><p><strong>supported_types</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – MIME types this API route allows</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ga4gh.refget.serverless.middleware.media_type.MediaTypeMidware">
<code class="sig-prename descclassname">ga4gh.refget.serverless.middleware.media_type.</code><code class="sig-name descname">MediaTypeMidware</code><span class="sig-paren">(</span><em class="sig-param">event, context, supported_media_types=[DEFAULT_CONTENT_TYPE_JSON]</em><span class="sig-paren">)</span><a class="headerlink" href="#ga4gh.refget.serverless.middleware.media_type.MediaTypeMidware" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the media type middleware decorator function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – AWS SAM event (incl. headers, path params, query params)</p></li>
<li><p><strong>context</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – AWS SAM context</p></li>
<li><p><strong>supported_media_types</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – supported MIME types for this api route</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>media type middleware decorator function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Global Alliance for Genomics and Health

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>